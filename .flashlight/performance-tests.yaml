# .flashlight/performance-tests.yaml
app: org.verily.FSbeerselector
tests:
  - name: "Beer List Scroll Performance (200 items)"
    iterations: 5
    beforeTest:
      - launchApp
      - tapOn: "All Beers Tab"
    testSteps:
      - scrollUntilVisible:
          element: "beer-item-0"
          direction: "down"
          timeout: 30000
      - scroll:
          direction: "down"
          duration: 5000
          speed: "medium"
      - scroll:
          direction: "up"
          duration: 5000
          speed: "medium"
      - scroll:
          direction: "down"
          duration: 5000
          speed: "fast"
    metrics:
      - fps
      - cpuUsage
      - memoryUsage
      - batteryDrain

  - name: "Filter Toggle Performance"
    iterations: 5
    beforeTest:
      - launchApp
      - tapOn: "All Beers Tab"
    testSteps:
      - tapOn: "filter-draft-button"
      - wait: 500
      - tapOn: "filter-draft-button"
      - wait: 500
      - tapOn: "filter-ipa-button"
      - wait: 500
      - tapOn: "filter-ipa-button"
    metrics:
      - fps
      - cpuUsage
      - memoryUsage

  - name: "Search Performance"
    iterations: 3
    beforeTest:
      - launchApp
      - tapOn: "All Beers Tab"
    testSteps:
      - tapOn: "search-bar"
      - inputText: "IPA"
      - wait: 1000
      - clearText
      - inputText: "Stout"
      - wait: 1000
    metrics:
      - fps
      - cpuUsage

  - name: "Refresh Performance"
    iterations: 3
    beforeTest:
      - launchApp
      - tapOn: "All Beers Tab"
    testSteps:
      - scroll:
          direction: "down"
          distance: 100
      - scroll:
          direction: "up"
          distance: 500
      - wait: 2000  # Wait for refresh
    metrics:
      - fps
      - memoryUsage
